<template>
  <outer-ip></outer-ip>
  <div class="portal-wrap">
    <top-tool-bar></top-tool-bar>
    <portal-header></portal-header>

    <div class="portal-hot">
      <el-row :gutter="20">
        <el-col :span="12">
          <div>
            <div class="mt20 mb20">
              <span class="f20 poi" @click="jump('/portalBriefList', 'tpxw')">图片新闻</span>
              <sup class="f20">
                <el-icon class="title-icon ml5">
                  <document />
                </el-icon>
              </sup>
            </div>
            <div>
              <el-carousel trigger="click" height="355px" indicator-position="outside" @change="handleChangeCarousel">
                <el-carousel-item v-for="item in tpxwList" :key="item">
                  <img :src="item.brief_image" :title="hotCarouselTitle" style="width: 100%; height: 100%"
                    @click="openNews('/BriefShow', item)" />
                </el-carousel-item>
              </el-carousel>
              <div class="carousel-title">
                <span>&nbsp;&nbsp;{{ hotCarouselTitle }}</span>
              </div>
            </div>
          </div>
        </el-col>
        <el-col :span="12">
          <div>
            <div class="mt20 mb20">
              <span class="f20">热门视频</span>
              <sup class="f20">
                <el-icon class="title-icon ml5">
                  <svg t="1645865782381" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="2042" width="24" height="24">
                    <path
                      d="M512 973.791c-52.461 0-103.358-10.689-151.278-31.771-46.168-20.311-87.599-49.354-123.143-86.323-35.445-36.868-63.266-79.779-82.688-127.543-20.079-49.376-30.26-101.791-30.26-155.789 0-76.174 20.685-150.313 59.818-214.401 10.648-17.44 33.421-22.946 50.86-12.296 17.44 10.649 22.945 33.42 12.296 50.861C215.566 449 198.63 509.804 198.63 572.366c0 180.544 140.577 327.427 313.369 327.427S825.368 752.91 825.368 572.366c0-110.518-52.83-212.837-141.32-273.704-16.836-11.581-21.097-34.617-9.516-51.453 11.58-16.836 34.617-21.097 51.453-9.516 108.566 74.677 173.383 199.789 173.383 334.674 0 53.998-10.181 106.413-30.259 155.789-19.424 47.764-47.244 90.676-82.689 127.543-35.543 36.97-76.975 66.013-123.142 86.324-47.919 21.078-98.816 31.768-151.278 31.768z"
                      p-id="2043" fill="#de460c" />
                    <path
                      d="M294.752 517.054c-2.053 0-4.121-0.171-6.188-0.521-23.418-3.969-44.603-23.504-73.119-67.428-16.428-25.304-29.16-49.675-29.694-50.7-9.44-18.123-2.402-40.468 15.721-49.909 18.119-9.441 40.464-2.405 49.905 15.715 0.212 0.404 9.875 18.854 22.492 38.897 4.915 7.808 9.235 14.218 12.989 19.471 9.437-16.672 20.913-38.662 32.433-64.923 24.901-56.77 55.18-145.879 58.018-248.004a37 37 0 0 1 51.565-32.98c2.023 0.867 50.15 21.817 102.025 71.623 30.269 29.062 55.959 62.223 76.356 98.561 14.638 26.078 26.541 53.808 35.616 82.916 7.76-15.36 15.787-36.988 22.426-67.31 4.369-19.961 24.091-32.601 44.057-28.231 19.962 4.37 32.602 24.096 28.23 44.057-30.781 140.595-96.974 158.175-109.931 160.272a36.998 36.998 0 0 1-42.465-30.799c-19.639-125.377-90.362-198.141-138.58-234.211-10.84 88.552-37.648 164.273-60.441 215.857-30.354 68.694-60.104 110.469-61.355 112.214a37.01 37.01 0 0 1-30.06 15.433z m11.917-71.585z m306.075-79.267c0 0.001 0 0.001 0 0 0 0.001 0 0.001 0 0z"
                      p-id="2044" fill="#de460c" />
                  </svg>
                </el-icon>
              </sup>
            </div>
            <div v-if="hotVideoList && hotVideoList.length > 0" class="video-wrap">
              <div class="video-item poi" v-for="(hotvideoitem, i) in hotVideoList.slice(0, 6)" :key="i"
                @click.enter="showVideo(hotvideoitem)">
                <video-item :src="hotvideoitem.video_facede" :tip="hotvideoitem.video_title"
                  :videoId="hotvideoitem.video_id" :viewCount="hotvideoitem.view_count"
                  :appreciateCount="hotvideoitem.appreciate_count" />
                <div>
                  <!-- TODO 替换title -->
                  <div class="truncate-text">{{ hotvideoitem.video_title }}</div>
                  <div class="sub-title redColor">
                    <span class="author">{{ hotvideoitem.award }}</span>
                    <!-- <span class="mr2">波力</span> -->
                    <span class="mr2">｜</span>
                    <span class="mr5 truncate-text">{{ hotvideoitem.teacher }}</span>
                  </div>
                  <div class="truncate-text">{{ hotvideoitem.video_year }}{{hotvideoitem.video_type}}</div>
                </div>
              </div>
            </div>
            <!-- 否则，标签只是被初始化了，但是没有数据 -->
            <div v-else-if="hotVideoList">视频资源正在审核中……</div>
            <!-- 标签容器还没被初始化 -->
            <div v-else>视频列表加载中...</div>
          </div>
        </el-col>
      </el-row>
    </div>

    <el-divider class="portal-divider"></el-divider>
    <!-- TODO 系统名称、点击跳转 -->
    <div class="portal-system">
      <div class="portal-system-item portal-system-item1 poi" @click="JumpToExternalSystem(externalSystemFormQJS.data)">
        <span>北京高校青年教师教学基本功比赛管理系统</span>
        <h2>
          {{ externalSystemFormQJS.data.open_status }} <!--暂未开放系统入口-->
          <svg t="1645886669360" class="svg-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="16268" width="22" height="22">
            <path
              d="M512 1024c-8.533333 0-17.066667-4.266667-21.333333-8.533333-4.266667 0-128-76.8-448-76.8-25.6 0-42.666667-17.066667-42.666667-42.666667L0 42.666667c0-25.6 17.066667-42.666667 42.666667-42.666667 273.066667 0 418.133333 55.466667 469.333333 81.066667C563.2 55.466667 708.266667 0 981.333333 0c25.6 0 42.666667 17.066667 42.666667 42.666667l0 853.333333c0 25.6-17.066667 42.666667-42.666667 42.666667-320 0-443.733333 76.8-448 76.8C529.066667 1019.733333 520.533333 1024 512 1024zM85.333333 853.333333c247.466667 4.266667 375.466667 55.466667 426.666667 81.066667 51.2-25.6 179.2-72.533333 426.666667-81.066667L938.666667 85.333333c-290.133333 8.533333-401.066667 76.8-405.333333 76.8-12.8 8.533333-34.133333 8.533333-46.933333 0 0 0-115.2-72.533333-401.066667-76.8L85.333333 853.333333z"
              p-id="16269" fill="#ffffff" />
            <path
              d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 128c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 853.333333C554.666667 1006.933333 537.6 1024 512 1024z"
              p-id="16270" fill="#ffffff" />
            <path
              d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L0 213.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
              p-id="16271" fill="#ffffff" />
            <path
              d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C554.666667 1006.933333 537.6 1024 512 1024z"
              p-id="16272" fill="#ffffff" />
            <path
              d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L0 341.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 554.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
              p-id="16273" fill="#ffffff" />
            <path
              d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 426.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 554.666667C554.666667 1006.933333 537.6 1024 512 1024z"
              p-id="16274" fill="#ffffff" />
            <path
              d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L0 469.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
              p-id="16275" fill="#ffffff" />
            <path
              d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C554.666667 1006.933333 537.6 1024 512 1024z"
              p-id="16276" fill="#ffffff" />
            <path
              d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 298.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
              p-id="16277" fill="#ffffff" />
            <path
              d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 298.666667C554.666667 1006.933333 537.6 1024 512 1024z"
              p-id="16278" fill="#ffffff" />
            <path
              d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
              p-id="16279" fill="#ffffff" />
            <path
              d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C554.666667 1006.933333 537.6 1024 512 1024z"
              p-id="16280" fill="#ffffff" />
          </svg>
        </h2>
      </div>
      <div class="portal-system-item portal-system-item2 poi" @click="JumpToExternalSystem(externalSystemFormQGS.data)">
        <span>北京市高校青年教师管理岗比赛管理系统</span>
        <h2></h2>
        <h2>
          {{ externalSystemFormQGS.data.open_status }}<!-- 暂未开放系统入口 -->
          <svg t="1645887690692" class="svg-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="25514" width="22" height="22">
            <path
              d="M128 789.333333V213.333333a128 128 0 0 1 128-128h597.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v768a42.666667 42.666667 0 0 1-42.666667 42.666667H277.333333A149.333333 149.333333 0 0 1 128 789.333333zM810.666667 853.333333v-128H277.333333a64 64 0 0 0 0 128H810.666667zM426.666667 170.666667H256a42.666667 42.666667 0 0 0-42.666667 42.666666v441.045334A148.736 148.736 0 0 1 277.333333 640H810.666667V170.666667h-85.333334v341.333333l-149.333333-85.333333-149.333333 85.333333V170.666667z"
              p-id="25515" fill="#ffffff" />
          </svg>
        </h2>
      </div>
      <div class="portal-system-item portal-system-item3 poi" @click="JumpToExternalSystem(externalSystemFormSDBY.data)">
        <span>北京市师德榜样（先锋）推荐系列活动管理系统</span>
        <h2>
          {{ externalSystemFormSDBY.data.open_status }}<!-- 系统入口 -->
          <svg t="1645887835978" class="svg-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="26058" width="22" height="22">
            <path
              d="M512 634.603243c-19.64973 0-38.745946-4.621838-53.773838-13.007567L48.515459 392.164324C26.485622 379.904 13.837838 360.198919 13.837838 338.196757c0-22.057514 12.647784-41.762595 34.705297-54.078271l409.683027-229.348324c29.972757-16.799135 77.491892-16.826811 107.575352 0l409.710702 229.348324c22.029838 12.343351 34.649946 32.048432 34.649946 54.105946 0 22.029838-12.647784 41.707243-34.677621 54.022919l-409.710703 229.348325c-15.000216 8.413405-34.096432 13.035243-53.773838 13.035243zM116.099459 338.141405l381.426163 213.545514c2.490811 1.383784 7.915243 2.767568 14.474378 2.767567 7.500108 0 12.647784-1.743568 14.474378-2.767567l381.453838-213.545514-381.426162-213.517837c-2.490811-1.383784-7.942919-2.767568-14.502054-2.767568-7.472432 0-12.620108 1.715892-14.446703 2.767568L116.099459 338.141405z m396.038919 589.602595c-169.292108 0-341.18573-53.967568-348.879567-157.197838a39.465514 39.465514 0 0 1-0.553514-6.642162V459.250162c0-22.140541 17.989189-40.074378 40.157406-40.074378a40.12973 40.12973 0 0 1 40.157405 40.074378V759.143784c0.166054 1.411459 0.276757 2.87827 0.276757 4.345081 0.332108 29.668324 102.649081 84.134054 268.813838 84.134054 166.192432 0 268.48173-54.46573 268.786162-84.134054l0.055351-1.632865V459.222486c0-22.140541 17.989189-40.074378 40.157406-40.074378 22.195892 0 40.157405 17.961514 40.157405 40.074378v304.70919c0 1.051676-0.027676 2.075676-0.110703 3.127351-4.040649 105.499676-177.871568 160.684973-349.045621 160.684973z m452.082163-104.198919a40.12973 40.12973 0 0 1-40.12973-40.074378V465.394162c0-22.140541 17.961514-40.074378 40.12973-40.074378 22.195892 0 40.157405 17.933838 40.157405 40.074378v318.076541c0 22.140541-17.989189 40.074378-40.12973 40.074378z"
              p-id="26059" data-spm-anchor-id="a313x.7781069.0.i25" class="selected" fill="#ffffff" />
          </svg>
        </h2>
      </div>
      <div class="portal-system-item portal-system-item4 poi"  @click="JumpToExternalSystem(externalSystemFormZYZ.data)">
        <span>北京市高校志愿者服务</span>
        <h2><br /></h2>
        <h2>
          {{ externalSystemFormZYZ.data.open_status }}<!-- 暂未开放 -->
          <svg t="1665021605222" class="svg-icon" viewBox="0 0 1219 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="6919" width="22" height="22">
            <path
              d="M1145.65877 147.72586h-1.414092c-4.193516-0.731427-7.704366-0.731427-11.946644-0.731428-38.034213 0-69.729391 22.527957-83.13889 59.148078l-69.071106 213.94245a101.595235 101.595235 0 0 0-35.937455-6.339036c-19.748534 0-39.497068 4.924943-59.19684 15.506256l-224.791953 119.661487c-19.017107 9.849886-35.230409 24.624715-48.591145 42.910394a147.894575 147.894575 0 0 0-48.615527-42.910394l-225.52338-120.392914a123.928145 123.928145 0 0 0-59.22122-15.457494c-12.678071 0-24.624715 2.096758-35.888694 6.339035L173.275099 205.459845A85.625742 85.625742 0 0 0 90.16059 146.287386c-4.193516 0-7.704366 0-11.946644 0.682665H76.799854C40.179733 153.333468 0.731427 187.856831 0 249.052905v0.731427l9.849886 266.020065c0 40.813637 13.409498 83.772793 39.497068 126.000521 14.043402 22.527957 31.695178 41.545064 48.566764 59.830744l0.731427 0.682665 136.70374 131.656892c25.356142 24.624715 50.029619 47.152672 66.218541 73.874145l59.196839 95.719437c7.753128 12.678071 21.113865 20.431199 35.206028 20.431199 7.972556 0 15.774446-2.194282 22.576719-6.339036a40.764875 40.764875 0 0 0 13.360737-57.733985l-61.34236-99.961714c-21.113865-34.474601-49.298192-61.927501-78.213946-90.063067l-135.265266-130.925465c-40.155352-40.130971-63.390355-87.966309-64.85321-130.194037L82.407462 242.762631c0-4.924943 0.682665-13.409498 7.704366-14.823591h0.731428c0 0.731427 0.682665 0.731427 0.682665 1.462854l77.531281 242.102396 4.217897 19.017107c4.242278 28.111185 11.31274 59.074935 52.175138 97.109148a70.704627 70.704627 0 0 0 17.603014 16.188922l78.896612 62.610166c7.411795 6.509702 16.969111 10.020552 26.818996 9.849886a39.399544 39.399544 0 0 0 30.963751-15.457494c15.506256-18.334441 13.409498-42.910394-4.924943-57.733985L293.789917 539.063781c-25.356142-19.748534-29.59842-35.206028-28.866993-39.448306 2.096758-2.096758 6.339036-3.51085 10.581313-3.51085 6.924177 0.316952 13.653307 2.243043 19.699772 5.607608l224.791953 119.661486c28.159946 16.920349 44.373249 61.927501 43.641822 96.450864l2.852566 132.339558v0.682665c0.731427 8.387032 4.193516 16.286445 9.849886 22.527957 6.339036 7.753128 15.506256 13.360736 25.356142 15.506256l6.339035 1.365331h1.462855l6.339035-1.365331a45.592294 45.592294 0 0 0 25.356142-15.506256c5.534466-6.314655 8.972173-14.165306 9.849886-22.527957v-0.682665l2.828185-132.339558c0-34.474601 16.188922-79.530515 43.690584-96.450864l224.084906-119.612724c7.704366-3.51085 14.774829-5.607608 20.4312-5.607609 4.193516 0 8.435793 1.414093 10.532551 3.510851 0 4.242278-3.51085 19.017107-28.866993 39.448306l-81.042131 64.024259c-18.285679 15.506256-20.431199 39.399544-4.876181 57.733985 7.558081 9.41103 18.895202 15.0674 30.96375 15.457494 6.339036 0 16.188922-1.414093 26.770235-9.849886l78.896612-62.610166c4.242278-2.828185 11.995406-8.484555 17.603014-16.188922 40.179733-38.034213 47.932861-68.997964 52.175138-97.133529l4.217897-19.017107 77.531281-241.395349c0.682665-1.462854 0.682665-2.14552 1.414093-2.14552h1.414092c6.339036 0.731427 7.021701 9.167221 7.021701 14.823591l-9.849886 266.020064c-1.462854 42.227729-24.673477 89.380401-64.121783 129.511373l-135.314028 130.876703c-29.622801 27.4529-57.075701 55.588466-78.994135 90.063066l-61.269216 99.961715c-12.678071 20.431199-6.339036 45.055914 14.140925 57.733985a43.885631 43.885631 0 0 0 22.527957 6.339036 41.740111 41.740111 0 0 0 35.206028-20.4312l59.19684-95.719436c16.188922-26.770235 40.862398-49.24943 66.21854-73.922907l136.021075-130.925465 1.414092-1.414093c16.871587-18.285679 34.523363-37.302786 48.615527-59.781981 25.356142-41.545064 39.448306-85.186885 39.448306-126.000522l9.849886-266.068826v-1.316569c2.828185-58.416651-36.620121-93.622679-73.289004-99.961715l0.048762-0.048761z"
              fill="#ffffff" p-id="6920"></path>
            <path
              d="M588.603831 432.665507c6.485321 4.022849 13.970259 6.168369 21.601483 6.19275 7.655604 0.073143 15.164923-2.072377 21.601483-6.19275C654.871134 418.865915 853.331708 294.864627 853.331708 156.381081 853.331708 70.267721 780.871655 0.00195 691.735063 0.00195c-29.257087 0-57.148844 7.558081-82.212414 22.040339A161.328455 161.328455 0 0 0 527.310234 0.00195C438.173642 0.00195 365.713589 70.267721 365.713589 156.381081c1.414093 138.483546 199.923429 262.484833 222.890242 276.284426zM528.090423 82.653222c20.18739 0 39.00945 7.606843 53.637993 20.675008a42.081444 42.081444 0 0 0 56.417416 0c14.628544-13.068166 33.401841-20.675008 53.637993-20.675008 43.154204 0 78.018899 33.10927 78.018899 73.727859 0 62.70769-90.550685 144.676296-159.548648 191.536397-68.949202-46.811339-159.499887-128.828707-159.499887-191.536397 0-40.618589 34.815934-73.72786 77.336234-73.727859z"
              fill="#ffffff" p-id="6921"></path>
          </svg>
        </h2>
      </div>
    </div>

    <div class="portal-videos mt30">
      <el-tabs v-model="videoTabActiveName" type="card" @tab-click="handleTabClick">
        <el-tab-pane v-for="(item, i) in videoTabs" :key="item.name" :name="item.name">
          <template #label>
            <span>
              {{ item.title }}
              <el-icon>
                <svg v-if="i == 0" t="1645886669360" class="svg-icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="16268" width="22" height="22">
                  <path
                    d="M512 1024c-8.533333 0-17.066667-4.266667-21.333333-8.533333-4.266667 0-128-76.8-448-76.8-25.6 0-42.666667-17.066667-42.666667-42.666667L0 42.666667c0-25.6 17.066667-42.666667 42.666667-42.666667 273.066667 0 418.133333 55.466667 469.333333 81.066667C563.2 55.466667 708.266667 0 981.333333 0c25.6 0 42.666667 17.066667 42.666667 42.666667l0 853.333333c0 25.6-17.066667 42.666667-42.666667 42.666667-320 0-443.733333 76.8-448 76.8C529.066667 1019.733333 520.533333 1024 512 1024zM85.333333 853.333333c247.466667 4.266667 375.466667 55.466667 426.666667 81.066667 51.2-25.6 179.2-72.533333 426.666667-81.066667L938.666667 85.333333c-290.133333 8.533333-401.066667 76.8-405.333333 76.8-12.8 8.533333-34.133333 8.533333-46.933333 0 0 0-115.2-72.533333-401.066667-76.8L85.333333 853.333333z"
                    p-id="16269" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 128c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 853.333333C554.666667 1006.933333 537.6 1024 512 1024z"
                    p-id="16270" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L0 213.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
                    p-id="16271" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 682.666667C554.666667 1006.933333 537.6 1024 512 1024z"
                    p-id="16272" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L0 341.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 554.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
                    p-id="16273" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 426.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 554.666667C554.666667 1006.933333 537.6 1024 512 1024z"
                    p-id="16274" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L0 469.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
                    p-id="16275" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 554.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C554.666667 1006.933333 537.6 1024 512 1024z"
                    p-id="16276" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 298.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
                    p-id="16277" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 298.666667C554.666667 1006.933333 537.6 1024 512 1024z"
                    p-id="16278" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M42.666667 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C85.333333 921.6 68.266667 938.666667 42.666667 938.666667z"
                    p-id="16279" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M512 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C554.666667 1006.933333 537.6 1024 512 1024z"
                    p-id="16280" :fill="getTabIconColor(item.name)" />
                </svg>
                <svg v-else-if="i == 1" t="1645887690692" class="svg-icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="25514" width="22" height="22">
                  <path
                    d="M128 789.333333V213.333333a128 128 0 0 1 128-128h597.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v768a42.666667 42.666667 0 0 1-42.666667 42.666667H277.333333A149.333333 149.333333 0 0 1 128 789.333333zM810.666667 853.333333v-128H277.333333a64 64 0 0 0 0 128H810.666667zM426.666667 170.666667H256a42.666667 42.666667 0 0 0-42.666667 42.666666v441.045334A148.736 148.736 0 0 1 277.333333 640H810.666667V170.666667h-85.333334v341.333333l-149.333333-85.333333-149.333333 85.333333V170.666667z"
                    p-id="25515" :fill="getTabIconColor(item.name)" />
                </svg>
                <svg v-else-if="i == 2" t="1645887835978" class="svg-icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="26058" width="22" height="22">
                  <path
                    d="M512 634.603243c-19.64973 0-38.745946-4.621838-53.773838-13.007567L48.515459 392.164324C26.485622 379.904 13.837838 360.198919 13.837838 338.196757c0-22.057514 12.647784-41.762595 34.705297-54.078271l409.683027-229.348324c29.972757-16.799135 77.491892-16.826811 107.575352 0l409.710702 229.348324c22.029838 12.343351 34.649946 32.048432 34.649946 54.105946 0 22.029838-12.647784 41.707243-34.677621 54.022919l-409.710703 229.348325c-15.000216 8.413405-34.096432 13.035243-53.773838 13.035243zM116.099459 338.141405l381.426163 213.545514c2.490811 1.383784 7.915243 2.767568 14.474378 2.767567 7.500108 0 12.647784-1.743568 14.474378-2.767567l381.453838-213.545514-381.426162-213.517837c-2.490811-1.383784-7.942919-2.767568-14.502054-2.767568-7.472432 0-12.620108 1.715892-14.446703 2.767568L116.099459 338.141405z m396.038919 589.602595c-169.292108 0-341.18573-53.967568-348.879567-157.197838a39.465514 39.465514 0 0 1-0.553514-6.642162V459.250162c0-22.140541 17.989189-40.074378 40.157406-40.074378a40.12973 40.12973 0 0 1 40.157405 40.074378V759.143784c0.166054 1.411459 0.276757 2.87827 0.276757 4.345081 0.332108 29.668324 102.649081 84.134054 268.813838 84.134054 166.192432 0 268.48173-54.46573 268.786162-84.134054l0.055351-1.632865V459.222486c0-22.140541 17.989189-40.074378 40.157406-40.074378 22.195892 0 40.157405 17.961514 40.157405 40.074378v304.70919c0 1.051676-0.027676 2.075676-0.110703 3.127351-4.040649 105.499676-177.871568 160.684973-349.045621 160.684973z m452.082163-104.198919a40.12973 40.12973 0 0 1-40.12973-40.074378V465.394162c0-22.140541 17.961514-40.074378 40.12973-40.074378 22.195892 0 40.157405 17.933838 40.157405 40.074378v318.076541c0 22.140541-17.989189 40.074378-40.12973 40.074378z"
                    p-id="26059" data-spm-anchor-id="a313x.7781069.0.i25" class="selected"
                    :fill="getTabIconColor(item.name)" />
                </svg>
                <svg v-else-if="i == 3" t="1645889534205" class="icon" viewBox="0 0 1024 1024" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" p-id="41831" width="22" height="22">
                  <path
                    d="M704 446H320c-4.4 0-8 3.6-8 8v402c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8V454c0-4.4-3.6-8-8-8z m-328 64h272v117H376V510z m272 290H376V683h272v117z"
                    p-id="41832" :fill="getTabIconColor(item.name)" />
                  <path d="M424 748a32 32 0 1 0 64 0 32 32 0 1 0-64 0zM424 570a32 32 0 1 0 64 0 32 32 0 1 0-64 0z"
                    p-id="41833" :fill="getTabIconColor(item.name)" />
                  <path
                    d="M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7 0.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 0.5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2 0.6-93.4-62.7-172.1-148.6-194.9z"
                    p-id="41834" :fill="getTabIconColor(item.name)" />
                </svg>
              </el-icon>
              <!-- TODO 点击更多跳转 -->
              <el-button v-if="i == 3" type="text" class="more-btn" @click.stop="jumpVideo('/portalVideoList')">更多 >
              </el-button>
            </span>
          </template>
          <div v-if="item.content && item.content.length > 0">
            <el-row class="video-items">
              <div class="video-item poi" v-for="(ele, i) in item.content.slice(0, 15)" :key="i"
                @click.enter="showVideo(ele)">
                <video-item :src="ele.video_facede" :videoId="ele.video_id" :viewCount="ele.view_count"
                  :appreciateCount="ele.appreciate_count" :tip="ele.video_title" />
                <div>
                  <!-- TODO 替换title -->
                  <div>
                    <span class="mr5">{{ ele.video_title }}</span>
                  </div>
                  <div class="redColor">
                    <span class="mr5">{{ ele.award }}</span>
                    <span class="mr2">｜</span>
                    <span>{{ ele.teacher }}</span>
                  </div>
                  <div>{{ ele.video_year }}{{ele.video_type}}</div>
                </div>
              </div>
            </el-row>
          </div>
          <div v-else-if="item.content">视频资源正在审核中……</div>
          <div v-else>视频列表加载中...</div>
        </el-tab-pane>
      </el-tabs>
    </div>

    <div class="portal-notice pb20">
      <div class="portal-notice-content">
        <el-row :gutter="20">
          <el-col :span="12">
            <div class="mt20 mb20 rel">
              <span class="f20 poi"  @click="jump('/portalBriefList', 'tzgg')">通知公告</span>
              <sup class="f20">
                <el-icon class="title-icon ml5">
                  <svg t="1645936733359" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="42752" width="24" height="24">
                    <path
                      d="M562.2 164v696c0 27.5-22.3 49.7-49.7 49.7h-29.3c-13-0.1-25.5-5.2-34.8-14.4L257.9 704.9c-27.9-28-65.9-43.7-105.4-43.8-23.2 0-45.5-9.2-61.9-25.6C74.2 619.1 65 596.9 65 573.6V450.4c0-48.3 39.2-87.5 87.5-87.5 39.5 0 77.5-15.8 105.4-43.8l190.4-190.4c9.3-9.2 21.8-14.4 34.8-14.4h29.3c27.5 0 49.8 22.2 49.8 49.7z m298.3 86c-4.8-4.8-11.1-7.8-17.9-8.4-6.9-0.2-13.6 2.5-18.4 7.5l-35.3 35.3c-8.8 9.5-8.8 24.3 0 33.8 95.5 111.6 95.5 276.2 0 387.8-8.8 9.5-8.8 24.3 0 33.8l35.3 35.3c4.8 4.9 11.5 7.6 18.4 7.5 6.8-0.5 13.2-3.5 17.9-8.5C991.8 624 991.8 400 860.5 250zM703.4 382.7c-7.2-0.3-14.2 2.4-19.4 7.5L648.7 426c-8.5 8.3-9.9 21.4-3.5 31.3 21.9 33.2 21.9 76.2 0 109.4-6.5 9.9-5 23 3.5 31.3l35.3 35.8c5.2 4.9 12.2 7.4 19.4 7 7.2-0.5 13.8-3.9 18.4-9.4 53-70.7 53-167.9 0-238.6-4.7-5.7-11.2-9.2-18.4-10.1z m0 0"
                      fill="#de460c" p-id="42753" />
                  </svg>
                </el-icon>
              </sup>
              <!-- TODO 点击更多跳转 -->
              <!-- <el-button type="text" class="more-btn" @click="jump('/portalBriefList', 'tzgg')">更多 ></el-button> -->
            </div>
            <el-table :data="tzggList" :show-header="false" class="p10" height="205" @row-click="showBrief"
              empty-text="暂无数据">
              <el-table-column prop="brief_title">
                <template #default="scope">
                  <div v-tooltip-auto-show>
                    <el-tooltip :content="scope.row.brief_title" placement="top-start">
                      <div class="poi text-ellipsis">{{ scope.row.brief_title }}</div>
                    </el-tooltip>
                  </div>
                </template>
              </el-table-column>
              <el-table-column prop="create_time" label width="130" :formatter="methods.dateFormat"></el-table-column>
            </el-table>
          </el-col>

          <el-col :span="12">
            <div class="mt20 mb20 rel">
              <span class="f20 poi"  @click="jump('/portalBriefList', 'zcfg')">政策法规</span>
              <sup class="f20">
                <el-icon class="title-icon ml5">
                  <svg t="1645936798330" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="43887" width="24" height="24">
                    <path
                      d="M511.034511 132.881426c85.158519 71.912843 211.894991 155.165965 317.351811 189.163267l0 75.074859c-5.618974 198.600197-145.651264 407.207305-317.351811 497.987868-171.702594-90.781586-311.737954-299.387671-317.368184-497.987868l0-75.074859C299.136449 288.048415 425.873945 204.794269 511.034511 132.881426M511.008928 61.321624c-8.833179 0-17.664312 3.236718-24.642237 9.735735-88.019683 82.098833-193.45399 142.368498-308.032562 176.141696-23.585161 6.950296-39.857776 28.955472-39.857776 53.970192l0 97.130178c6.473435 245.14528 151.727657 464.266859 372.558158 562.04786 220.828454-97.781 366.082676-316.903603 372.555088-562.04786l0-97.130178c0-25.040303-16.259312-46.99636-39.870056-53.970192-114.568339-33.772174-219.978087-94.018304-307.99777-176.116113C528.724405 64.582901 519.866666 61.321624 511.008928 61.321624L511.008928 61.321624zM384.132262 487.85509c-28.932959-19.747763-45.925982-29.393447-75.319429-41.333384l15.156188-34.903951c28.474518 11.022031 56.949037 23.422456 81.749886 36.282345L384.132262 487.85509zM360.709807 696.822402c-16.074094-13.319353-29.851888-22.50455-45.467541-32.149211 11.94096-21.585621 23.422456-48.223305 36.282345-81.749886 9.644661-24.799826 15.156188-43.171242 19.289322-69.808926 10.562567 9.18622 22.50455 15.156188 37.20025 20.667715C374.947066 631.147634 364.84294 667.429978 360.709807 696.822402zM400.206356 384.980072c-16.074094-22.045085-40.874943-44.548612-62.001099-58.785871l26.178219-29.851888c26.178219 18.829857 44.548612 33.526581 67.511603 54.652737L400.206356 384.980072zM578.401828 465.811028c62.001099 0 102.875019-1.378393 137.320529-4.592598l0 41.793872c-35.82288-3.216251-78.994122-4.592598-145.587819-4.592598-67.971068 0-110.223381 1.37737-146.505725 4.592598l0-41.793872c30.770817 2.75474 65.215304 4.133134 116.194372 4.592598l0-82.20935c-37.659715 0.459464-66.134233 1.836835-88.63776 4.592598l0-40.415478c22.503527 2.755764 50.978045 4.134157 88.63776 4.592598 0-42.252313-2.296299-63.837934-4.592598-75.319429 13.319353 1.836835 32.607652 3.215228 48.682769 2.755764 11.94096 0 11.481496 3.215228 3.673669 9.644661-5.511527 4.592598-9.185196 15.615653-9.185196 25.718755l0 37.201274c48.681746 0 84.96409-1.378393 110.682845-4.592598l0 40.415478c-25.718755-3.215228-62.001099-4.592598-110.682845-4.592598L578.401828 465.811028zM585.750189 566.850236l32.607652-16.991999c26.637684 34.444487 58.326407 80.371492 82.208327 118.031207l-41.334407 23.88192c-5.969968-13.319353-12.399401-25.718755-18.828834-36.740786l-124.920104 17.452487c-32.149211 4.592598-49.601698 8.725732-63.379493 14.6957-3.674693-12.399401-11.022031-27.096125-18.370393-39.037085 23.422456-12.399401 50.51858-47.304376 96.90505-146.966213 11.022031 7.348362 25.718755 15.615653 38.119179 21.12718 11.022031 5.052063 11.022031 8.267291 0.917906 11.481496-7.807826 2.296299-14.696724 10.104125-82.20935 105.631806 43.171242-2.296299 92.312452-7.348362 136.402623-14.237259C611.468944 603.591021 598.610078 583.842235 585.750189 566.850236z"
                      p-id="43888" fill="#de460c" />
                  </svg>
                </el-icon>
              </sup>
              <!-- TODO 点击更多跳转 -->
              <!-- <el-button type="text" class="more-btn" @click="jump('/portalBriefList', 'zcfg')">更多 ></el-button> -->
            </div>
            <el-table :data="zcfgList" :show-header="false" class="p10" height="205" empty-text="暂无数据"
              @row-click="showBrief">
              <!-- <el-table-column type="index" width="30" /> -->
              <el-table-column prop="brief_title">
                <template #default="scope">
                  <div v-tooltip-auto-show>
                    <el-tooltip :content="scope.row.brief_title" placement="top-start">
                      <div class="poi text-ellipsis">{{ scope.row.brief_title }}</div>
                    </el-tooltip>
                  </div>
                </template>
              </el-table-column>
              <el-table-column prop="create_time" label width="130" :formatter="methods.dateFormat"></el-table-column>
            </el-table>
          </el-col>
        </el-row>
      </div>
    </div>
    <div class="portal-notice pb20" v-show="trendList&&trendList.length">
      <div class="portal-notice-content">
        <el-row :gutter="20">
          <el-col :span="12">
            <div class="mt20 mb20 rel">
              <span class="f20 poi"  @click="jump('/portalBriefList', 'gxdt')">基层动态</span>
              <sup class="f20">
                <el-icon class="title-icon ml5">
                  <svg t="1677502118006" class="icon" viewBox="0 0 1184 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="2432" width="24" height="24">
                    <path
                      d="M558.115972 9.004965c16.223326-5.947354 33.513817-9.952225 50.888243-8.573302 19.928431 1.438876 38.50192 9.748384 55.612553 19.580702 59.821265 28.573677 120.278033 55.792412 180.662857 83.179017 88.74267 40.228571 177.68918 80.013489 265.808338 121.620983 18.849274 8.849087 37.758501 18.033911 54.401498 30.696019 7.554098 6.019297 15.55185 12.937892 18.129836 22.638314 2.110351 7.901827-2.805808 15.503888-8.561311 20.468009-12.302389 10.755597-27.698361 16.978735-40.876066 26.463326 0 76.272412-0.047963 152.532834 0.023982 228.805246 13.705293 15.995504 27.470539 31.967026 41.103887 48.034473-28.657611 34.820796-57.243279 69.689555-85.984824 104.438407-28.957377-33.75363-57.818829-67.579204-86.932084-101.188946 19.592693-21.415269 39.832881-42.254988 59.569461-63.550351-0.035972-60.145012 0-120.302014-0.023981-180.447026-112.520094 54.365527-225.447869 107.9037-337.788103 162.652927-20.635878 10.060141-40.96 20.731803-61.451991 31.067729-22.230632 10.81555-46.559625 18.477564-71.500141 18.105855-25.300234-0.155878-49.725152-8.261546-72.651241-18.357658-110.613583-48.094426-221.167213-96.404684-329.934239-148.575926-42.47082-20.539953-84.821733-41.403653-125.92562-64.569555-16.87082-9.844309-33.789602-20.084309-47.878595-33.76562C7.338267 300.37733 0.467635 291.192506 0 280.305012v-0.587541c0.515597-12.158501 9.448618-21.595129 18.453583-28.741546 17.566276-13.597377 38.082248-22.590351 58.274473-31.511382 142.172927-62.830913 285.077283-124.007119 427.346136-186.646182 17.878033-8.213583 35.540234-17.026698 54.04178-23.813396z"
                      p-id="2433" fill="#de460c"></path>
                    <path
                      d="M710.301077 627.661639c69.389789-36.127775 137.256768-75.133302 207.25808-110.074004-0.023981 120.433911 0.083934 240.867822-0.059953 361.289742-20.539953 23.633536-44.37733 44.257424-69.77349 62.495176-58.478314 41.979204-127.280562 69.953349-198.876627 78.610585-89.090398 10.491803-181.154473-5.407775-261.551663-45.216674-42.027166-20.8637-81.176581-47.78267-114.858267-80.505106-4.940141-4.976112-9.928244-9.940234-14.436721-15.312037-0.647494-15.539859-0.095925-31.199625-0.275785-46.787447 0.011991-96.848337-0.011991-193.684684 0.011991-290.533022 69.665574 32.842342 141.993068 59.497518 213.493208 87.963279 20.719813 7.997752 41.043934 17.218548 62.555129 22.998033 27.182763 7.530117 55.648525 11.199251 83.838501 8.885058 20.647869-1.71466 41.175831-6.930585 59.509508-16.714941 10.743607-6.295082 22.19466-11.247213 33.166089-17.098642z"
                      p-id="2434" fill="#de460c"></path>
                  </svg>
                </el-icon>
              </sup>
              <!-- TODO 点击更多跳转 -->
              <!-- <el-button type="text" class="more-btn" @click="jump('/portalBriefList', 'gxdt')">更多 ></el-button> -->
            </div>
            <el-table :data="trendList" :show-header="false" class="p10" height="205" @row-click="showTrend"
              empty-text="暂无数据">
              <el-table-column prop="brief_title">
                <template #default="scope">
                  <div v-tooltip-auto-show>
                    <el-tooltip :content="scope.row.trend_title" placement="top-start">
                      <div class="poi text-ellipsis">{{ scope.row.trend_title }}</div>
                    </el-tooltip>
                  </div>
                </template>
              </el-table-column>
              <el-table-column prop="create_time" label width="130" :formatter="methods.dateFormat"></el-table-column>
            </el-table>
          </el-col>
          <el-col :span="12">
            <div class="mt20 mb20 rel">
              <span class="f20 poi"  @click="jump('/portalBriefList', 'bjjg')">北京教工</span>
              <sup class="f20">
                <el-icon class="title-icon ml5">
                  <svg t="1677502118006" class="icon" viewBox="0 0 1184 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="2432" width="24" height="24">
                    <path
                      d="M558.115972 9.004965c16.223326-5.947354 33.513817-9.952225 50.888243-8.573302 19.928431 1.438876 38.50192 9.748384 55.612553 19.580702 59.821265 28.573677 120.278033 55.792412 180.662857 83.179017 88.74267 40.228571 177.68918 80.013489 265.808338 121.620983 18.849274 8.849087 37.758501 18.033911 54.401498 30.696019 7.554098 6.019297 15.55185 12.937892 18.129836 22.638314 2.110351 7.901827-2.805808 15.503888-8.561311 20.468009-12.302389 10.755597-27.698361 16.978735-40.876066 26.463326 0 76.272412-0.047963 152.532834 0.023982 228.805246 13.705293 15.995504 27.470539 31.967026 41.103887 48.034473-28.657611 34.820796-57.243279 69.689555-85.984824 104.438407-28.957377-33.75363-57.818829-67.579204-86.932084-101.188946 19.592693-21.415269 39.832881-42.254988 59.569461-63.550351-0.035972-60.145012 0-120.302014-0.023981-180.447026-112.520094 54.365527-225.447869 107.9037-337.788103 162.652927-20.635878 10.060141-40.96 20.731803-61.451991 31.067729-22.230632 10.81555-46.559625 18.477564-71.500141 18.105855-25.300234-0.155878-49.725152-8.261546-72.651241-18.357658-110.613583-48.094426-221.167213-96.404684-329.934239-148.575926-42.47082-20.539953-84.821733-41.403653-125.92562-64.569555-16.87082-9.844309-33.789602-20.084309-47.878595-33.76562C7.338267 300.37733 0.467635 291.192506 0 280.305012v-0.587541c0.515597-12.158501 9.448618-21.595129 18.453583-28.741546 17.566276-13.597377 38.082248-22.590351 58.274473-31.511382 142.172927-62.830913 285.077283-124.007119 427.346136-186.646182 17.878033-8.213583 35.540234-17.026698 54.04178-23.813396z"
                      p-id="2433" fill="#de460c"></path>
                    <path
                      d="M710.301077 627.661639c69.389789-36.127775 137.256768-75.133302 207.25808-110.074004-0.023981 120.433911 0.083934 240.867822-0.059953 361.289742-20.539953 23.633536-44.37733 44.257424-69.77349 62.495176-58.478314 41.979204-127.280562 69.953349-198.876627 78.610585-89.090398 10.491803-181.154473-5.407775-261.551663-45.216674-42.027166-20.8637-81.176581-47.78267-114.858267-80.505106-4.940141-4.976112-9.928244-9.940234-14.436721-15.312037-0.647494-15.539859-0.095925-31.199625-0.275785-46.787447 0.011991-96.848337-0.011991-193.684684 0.011991-290.533022 69.665574 32.842342 141.993068 59.497518 213.493208 87.963279 20.719813 7.997752 41.043934 17.218548 62.555129 22.998033 27.182763 7.530117 55.648525 11.199251 83.838501 8.885058 20.647869-1.71466 41.175831-6.930585 59.509508-16.714941 10.743607-6.295082 22.19466-11.247213 33.166089-17.098642z"
                      p-id="2434" fill="#de460c"></path>
                  </svg>
                </el-icon>
              </sup>
              <!-- TODO 点击更多跳转 -->
              <!-- <el-button type="text" class="more-btn" @click="jump('/portalBriefList', 'gxdt')">更多 ></el-button> -->
            </div>
            <el-table :data="bjjgList" :show-header="false" class="p10" height="205" @row-click="showTrend"
              empty-text="暂无数据">
              <el-table-column prop="brief_title">
                <template #default="scope">
                  <div v-tooltip-auto-show>
                    <el-tooltip :content="scope.row.trend_title" placement="top-start">
                      <div class="poi text-ellipsis">{{ scope.row.trend_title }}</div>
                    </el-tooltip>
                  </div>
                </template>
              </el-table-column>
              <el-table-column prop="create_time" label width="130" :formatter="methods.dateFormat"></el-table-column>
            </el-table>
          </el-col>
        </el-row>
      </div>
    </div>
    <portal-advanced :data="advancedData"></portal-advanced>
    <portal-footer></portal-footer>
  </div>
</template>

<script>
import moment from "moment";
import { onMounted, ref, reactive, getCurrentInstance, computed } from "vue";
import portalHeader from "../components/PortalHeader.vue";
import PortalFooter from "../components/PortalFooter.vue";
import TopToolBar from "../components/TopToolBar.vue";
import VideoItem from "../components/VideoItem.vue";
import OuterIp from "../components/outerNetIp.vue";
import { getVideoList, getBriefList, getExternalSystemList, getTrendBaseList } from "../api/serviceApi";
import { Document, MessageBox } from "@element-plus/icons-vue";
import { ElMessageBox } from "element-plus";
import { onBeforeRouteUpdate, useRoute, useRouter } from "vue-router";
import PortalAdvanced from './subpages/PortalAdvanced.vue';
export default {
  components: {
    portalHeader,
    PortalFooter,
    TopToolBar,
    VideoItem,
    Document,
    OuterIp,
    PortalAdvanced,
  },
  methods: {
    showBrief(row) {
      // const href = this.$router.replace({
      const href = this.$router.resolve({
        path: "/BriefShow",
        query: { briefId: row.brief_id },
      });
      window.open(href.href, "_blank");
    },
    showVideo(videoItem) {
      const href = this.$router.resolve({
        path: "/VideoShow",
        query: { videoId: videoItem.video_id },
      });
      window.open(href.href, "_blank");
    },
    showTrend(row) {
      const href = this.$router.resolve({
        path: "/TrendShow",
        query: { trendId: row.trend_id },
      });
      window.open(href.href, "_blank");
    }
  },
  setup() {
    const router = useRouter();
    const route = useRoute();

    let userId = "";
    let userRole = "";
    let userName = "";
    let realName = ref("");
    let userSchool = "";


    let tpxwList = ref([]); //图片新闻模型列表
    let qjsVideoList = ref([]); //青教赛视频模型列表
    let qgsVideoList = ref([]); //青管赛视频模型列表
    let sdbyVideoList = ref([]); //师德榜样视频模型列表
    let yktVideoList = ref([]); //云课堂视频模型列表
    let hotVideoList = ref([]); //热门视频模型列表
    let tzggList = ref([]); //通知公告模型列表
    let zcfgList = ref([]); //政策法规模型列表
    let bjjgList=ref([]);//北京教工模型列表
    let trendList = ref([]);//基层动态模型列表

    const advancedData = reactive([
      {
        list: [
          { src: 'https://images.dog.ceo/breeds/poodle-toy/n02113624_2305.jpg', videoId: '1221', tip: '我是短标题', eventTitle: '我是短eventTitle' },
          { src: 'https://images.dog.ceo/breeds/mexicanhairless/n02113978_839.jpg', videoId: '1121', tip: '我是长标题我是长标题我是长标题我是长标题我是长标题', eventTitle: '我是长eventTitle我是长eventTitle我是长eventTitle我是长eventTitle' }
        ]
      }, 
      {
        list: [
          { src: 'https://cdn2.thecatapi.com/images/MTc2OTU4Ng.jpg', videoId: 'ad5', tip: '我是短标题', eventTitle: '我是短eventTitle' },
          { src: 'https://cdn2.thecatapi.com/images/ad5.jpg', videoId: 'a8d', tip: '我是长标题我是长标题我是长标题我是长标题我是长标题', eventTitle: '我是长eventTitle我是长eventTitle我是长eventTitle我是长eventTitle' }
        ]
      }
    ])
    //外部系统数据模型
    const initExternalSystemFormDataQJS = {
      external_id: null,
      external_name: "",
      external_url: "",
      is_open: 0,
      open_status: "",
    };
    let externalSystemFormQJS = reactive({
      data: JSON.parse(JSON.stringify(initExternalSystemFormDataQJS)),
    });
    const initExternalSystemFormDataQGS = {
      external_id: null,
      external_name: "",
      external_url: "",
      is_open: 0,
    };
    let externalSystemFormQGS = reactive({
      data: JSON.parse(JSON.stringify(initExternalSystemFormDataQGS)),
    });
    const initExternalSystemFormDataSDBY = {
      external_id: null,
      external_name: "",
      external_url: "",
      is_open: 0,
    };
    let externalSystemFormSDBY = reactive({
      data: JSON.parse(JSON.stringify(initExternalSystemFormDataSDBY)),
    });
    const initExternalSystemFormDataZYZ = {
      external_id: null,
      external_name: "",
      external_url: "",
      is_open: 0,
    };
    let externalSystemFormZYZ = reactive({
      data: JSON.parse(JSON.stringify(initExternalSystemFormDataZYZ)),
    });
    let selectedVideoTab = ref("qjs")
    const handleTabClick = (tab, event) => {
      console.log(tab, event);
      selectedVideoTab.value = tab.paneName;
      switch (tab.paneName) {
        case "qjs":
          methods.getQjsVideoList();
          break;
        case "qgs":
          methods.getQgsVideoList();
          break;
        case "sdby":
          methods.getSdbyVideoList();
          break;
        case "ykt":
          methods.getYktVideoList();
          break;
        default:
          break;
      }
    };

    let hotCarouselTitle = ref(""); // 热门轮播的title
    // 轮播change回调
    const handleChangeCarousel = (index) => {
      hotCarouselTitle.value = tpxwList.value[index].brief_title;
    };

    // 跳转
    const jump = (path, tabname) => {
      const href = router.resolve({
        path: path,
        query: { activeTab: tabname },
      });
      window.open(href.href, "_blank");
    };
    const jumpVideo = (path) => {
      const href = router.resolve({
        path: path,
        query: { activeTab: selectedVideoTab.value },
      });
      // debugger
      window.open(href.href, "_blank");
    };
    const JumpToExternalSystem = (data) => {
      if (data.is_open == 0) {
        //ElMessageBox.alert("系统暂未开放");
      } else {
        const href = router.resolve({
          path: data.external_url,
          query: {},
        });
        // debugger
        window.open(data.external_url, "_blank");
      }
    };
    const openNews = (path, news) => {
      const href = router.resolve({
        path: path,
        query: { briefId: news.brief_id },
      });
      window.open(href.href, "_blank");
    };

    let videoTabActiveName = ref("qjs");
    const methods = {
      getTpxwList() {
        let query = reactive({
          params: {
            briefType: "0503", //图片新闻
            briefState: "0401", //已发布
            topN: 4,
          },
        });
        getBriefList(query).then((res) => {
          if (res.resultCode == "200") {
            tpxwList.value = JSON.parse(res.data.BriefList);
          }
        });
      },
      getHotVideoList() {
        // debugger
        //热门视频
        let query = reactive({
          params: {
            userId: userId,
            userRole: userRole,
            user_school: userSchool,  
            orderBy: "hot",
            topN: 6,
          },
        });
        getVideoList(query).then((res) => {
          if (res.resultCode == "200") {
            hotVideoList.value = JSON.parse(res.data.videoList);
          }
        });
      },
      getQjsVideoList() {
        let query = reactive({
          params: {
            userId: userId,
            userRole: userRole,
            user_school: userSchool,
            videoType: "0201", //青教赛视频
            videoState: "0401", //已发布
            topN: 15,
            orderBy: "portal",
          },
        });
        getVideoList(query).then((res) => {
          if (res.resultCode == "200") {
            qjsVideoList.value = JSON.parse(res.data.videoList);
            videoTabs.value[0].content = qjsVideoList;
          }
        });
      },
      getQgsVideoList() {
        let query = reactive({
          params: {
            userId: userId,
            userRole: userRole,
            user_school: userSchool,
            videoType: "0202", //青管赛视频
            videoState: "0401", //已发布
            topN: 10,
          },
        });
        getVideoList(query).then((res) => {
          if (res.resultCode == "200") {
            qgsVideoList.value = JSON.parse(res.data.videoList);
            videoTabs.value[1].content = qgsVideoList;
          }
        });
      },
      getSdbyVideoList() {
        let query = reactive({
          params: {
            userId: userId,
            userRole: userRole,
            videoSchool: userSchool,
            videoType: "0203", //师德榜样视频
            videoState: "0401", //已发布
            topN: 10,
          },
        });

        getVideoList(query).then((res) => {
          if (res.resultCode == "200") {
            sdbyVideoList.value = JSON.parse(res.data.videoList);
            videoTabs.value[2].content = sdbyVideoList;
          }
        });
      },
      getYktVideoList() {
        let query = reactive({
          params: {
            userId: userId,
            userRole: userRole,
            user_school: userSchool,
            videoType: "0204", //云课堂视频
            videoState: "0401", //已发布
            topN: 10,
          },
        });
        getVideoList(query).then((res) => {
          if (res.resultCode == "200") {
            yktVideoList.value = JSON.parse(res.data.videoList);
            videoTabs.value[3].content = yktVideoList;
          }
        });
      },
      getTzggList() {
        //通知公告
        let query = reactive({
          params: {
            briefType: "0501", //通知公告
            briefState: "0401", //已发布
            topN: 5,
          },
        });
        getBriefList(query).then((res) => {
          if (res.resultCode == "200") {
            tzggList.value = JSON.parse(res.data.BriefList);
          }
        });
      },
      getZcfgList() {
        //政策法规
        let query = reactive({
          params: {
            briefType: "0502", //政策法规
            briefState: "0401", //已发布
            topN: 5,
          },
        });
        getBriefList(query).then((res) => {
          if (res.resultCode == "200") {
            zcfgList.value = JSON.parse(res.data.BriefList);
          }
        });
      },
      getBjjgList() {
        //北京教工
        let query = reactive({
          params: {
            briefType: "0506", //北京教工
            briefState: "0401", //已发布
            topN: 5,
          },
        });
        getBriefList(query).then((res) => {
          if (res.resultCode == "200") {
            bjjgList.value = JSON.parse(res.data.BriefList);
          }
        });
      },
      getTrendList() {
        //基层动态
        let query = reactive({
          params: {
            trendStateList: "0401", //已发布
            topN: 5,
          },
        });
        getTrendBaseList(query).then((res) => {
          if (res.resultCode == "200") {
            trendList.value = JSON.parse(res.data.TrendList);
          } else {
            ElMessage({
              message: "获取数据失败：" + res.message,
              grouping: true,
              type: "error",
            });
          }
        });
      },
      getVideoList() { },
      getAllExternalSystemList() {
        getExternalSystemList().then((res) => {
          let allExternalSystemList = JSON.parse(res.data.ExternalSystemList);
          externalSystemFormQJS.data = allExternalSystemList[0];
          externalSystemFormQJS.data.open_status = externalSystemFormQJS.data.is_open == 0 ? "赛事活动期间开放" : "系统入口";
          externalSystemFormQGS.data = allExternalSystemList[1];
          externalSystemFormQGS.data.open_status = externalSystemFormQGS.data.is_open == 0 ? "赛事活动期间开放" : "系统入口";
          externalSystemFormSDBY.data = allExternalSystemList[2];
          externalSystemFormSDBY.data.open_status = externalSystemFormSDBY.data.is_open == 0 ? "赛事活动期间开放" : "系统入口";
          externalSystemFormZYZ.data = allExternalSystemList[3];
          externalSystemFormZYZ.data.open_status = externalSystemFormZYZ.data.is_open == 0 ? "赛事活动期间开放" : "系统入口";
        });
      },
      dateFormat(date) {
        return moment(date.create_time).format("YYYY-MM-DD");
      },
    };
    const videoTabs = ref([
      {
        title: "青教赛优秀视频",
        name: "qjs",
        content: [],
      },
      {
        title: "青管赛优秀视频",
        name: "qgs",
        content: [],
      },
      {
        title: "榜样人物风采展示",
        name: "sdby",
        content: [],
      },
      {
        title: "云课堂",
        name: "ykt",
        content: [],
      },
    ]);

    const getTabIconColor = computed(() => {
      return function (name) {
        return name == this.videoTabActiveName ? "#ffffff" : "#5f6061";
      };
    });
    const getSession = () => {
      userId = localStorage.getItem("user_id");
      userRole = localStorage.getItem("user_role");
      userName = localStorage.getItem("user_name");
      realName.value = localStorage.getItem("real_name");
      userSchool = localStorage.getItem("user_school");
      // console.log("首页"+userId);
      // console.log("首页"+userRole);
      // console.log("首页"+userName);
      // console.log("首页"+realName.value);
      // console.log("首页"+userSchool);
    };

    // 获取的外网IP
    const outerIp = computed(() => {
      return window.returnCitySN ? window.returnCitySN['cip'] : "";
    });

    onMounted(() => {
      getSession();
      methods.getTpxwList();
      methods.getTzggList();
      methods.getZcfgList();
      methods.getBjjgList();
      methods.getTrendList();
      methods.getVideoList();
      methods.getHotVideoList();
      methods.getQjsVideoList();
      methods.getAllExternalSystemList();
    });

    return {
      userId,
      userRole,
      userName,
      realName,
      userSchool,

      advancedData,

      initExternalSystemFormDataQJS,
      externalSystemFormQJS,
      initExternalSystemFormDataQGS,
      externalSystemFormQGS,
      initExternalSystemFormDataSDBY,
      externalSystemFormSDBY,
      initExternalSystemFormDataZYZ,
      externalSystemFormZYZ,

      getTabIconColor,
      getCurrentInstance,
      videoTabActiveName,
      videoTabs,
      handleTabClick,
      handleChangeCarousel,
      hotCarouselTitle,
      moment,
      getVideoList,
      getBriefList,
      jump,
      jumpVideo,
      JumpToExternalSystem,
      openNews,
      tpxwList,
      qjsVideoList,
      qgsVideoList,
      sdbyVideoList,
      yktVideoList,
      hotVideoList,
      selectedVideoTab,
      methods,
      getSession,
      tzggList,
      zcfgList,
      bjjgList,
      trendList,
    };
  },
};
</script>

<style scoped>
@import url('../assets/css/portal.css');
</style>